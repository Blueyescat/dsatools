/*! dsabp-js v0.3.1 @license MIT https://github.com/Blueyescat/dsabp-js */
var it=class{};var yt=class{int;constructor(t){if(t==null){this.int=0n;return}if(typeof t=="string")t="0b"+Ct(t);else if(typeof t!="number"&&typeof t!="bigint")throw new TypeError("input must be a number, bigint or string");this.int=BigInt(t)}set(t){if(t<0||t>63)throw new RangeError("index must be between [0,63]");return this.int|=Rt(t),this}clear(t){if(t<0||t>63)throw new RangeError("index must be between [0,63]");return this.int&=~Rt(t),this}toggle(t,e){if(t<0||t>63)throw new RangeError("index must be between [0,63]");return typeof e>"u"?this.int^=Rt(t):e===!0?this.set(t):e===!1&&this.clear(t),this}isSet(t){return t<0||t>63?!1:!!(this.int&Rt(t))}isZero(){return this.int==0n}isOne(){return this.int==1n}trimLeadZeros(){return this.int&&(this.int/=-this.int&this.int),this}get size(){return this.int.toString(2).length}*[Symbol.iterator](){for(let t of Ct(this.int.toString(2)))yield t=="1"}toArray(){return Array.from(this)}toString(){return Ct(this.int.toString(2))}get[Symbol.toStringTag](){return this.toString()}equals(t){return this.int===t?.int}clone(){return Object.assign(Object.create(Object.getPrototypeOf(this)),this)}};function Rt(r){return 1n<<BigInt(r)}function Ct(r){return r.length<1?r:r.split("").reduce((t,e)=>e+t)}var N=class r{static maps=new Map;static getMap(){return this.maps.get(this.name)[0]}static getReverseMap(){return this.maps.get(this.name)[1]}static getByName(t){return this.getMap().get(t)}static getByValue(t){return this.getMap().get(this.getReverseMap().get(t))}static end(){this.maps.set(this.name,[new Map,new Map]);let t=this.getMap(),e=this.getReverseMap();for(let i in this){let n=this[i];n instanceof r&&(n.enumName=i,t.set(i,n),e.set(n.enumValue,i))}}constructor(t){this.enumValue=t}enumName;enumValue;toString(){return this.constructor.name+"."+this.enumName}};var G=class r extends N{name;description;stackable;rarity;constructor(t,e,i,n,s,l,f,p,m){super(t),this.name=e,this.description=i,this.stackable=n,this.rarity=s,l!==void 0&&(this.image=l),f!==void 0&&(this.buildInfo=f),p!==void 0&&(this.blacklist_autobuild=p),m!==void 0&&(this.fab_type=m)}get id(){return this.enumValue}get isBuildable(){return!!this.buildInfo}get isBlock(){return!!this.buildInfo?.[0]?.block}static getById(t){return r.getByValue(t)}static NULL=new this(0,"","",!1,NaN);static RES_METAL=new this(1,"Iron","Material. Used to produce most items.",!0,0,"item/res_iron");static RES_GUNPOWDER=new this(2,"Explosives","Material. Used to produce munitions.",!0,0,"item/res_explosives");static RES_HYPER_RUBBER=new this(4,"Hyper Rubber","Material. High Elasticity.",!0,2,"item/res_hyper_rubber");static RES_FLUX=new this(5,"Flux Crystals","Material. Used to produce advanced machinery.",!0,2,"item/res_flux_crystals");static RES_FUEL=new this(6,"Thruster Fuel","Refined fuel. Powers thrusters. More efficient than explosives.",!0,0,"item/fuel");static SCRAP_METAL=new this(50,"Scrap Metal","Can be processed by a recycler.",!0,0,"item/scrap");static BALL_VOLLEY=new this(51,"Volleyball","\u{1F3D0}",!1,2,"item/ball_volley");static BALL_VOLLEY_GOLD=new this(52,"Golden Volleyball","\u{1F31F}\u{1F3D0}\u{1F31F}",!1,2,"item/ball_vg");static BALL_BASKET=new this(53,"Basketball","\u{1F3C0}",!1,2,"item/ball_basket");static BALL_BASKET_GOLD=new this(54,"Golden Basketball","\u{1F31F}\u{1F3C0}\u{1F31F}",!1,2,"item/ball_bg");static BALL_BEACH=new this(55,"Beach Ball","\u{1F334}",!1,2,"item/ball_beach");static BALL_SOCCER=new this(56,"Football","\u26BD",!1,2,"item/ball_soccer");static WRENCH=new this(100,"Wrench","Used to take stuff apart.",!1,0,"item/wrench");static SHREDDER=new this(101,"Item Shredder","Destroys items.",!1,0,"item/item_shredder");static SHREDDER_GOLD=new this(102,"Golden Item Shredder","Destroys items quickly, with style.",!1,9,"item/item_shredder_g");static REPAIR_TOOL=new this(103,"Repair Tool","Used to repair blocks and objects.",!1,0,"item/repair_tool");static HAND_PUSHER=new this(104,"Handheld Pusher","A pusher you can hold in your hand.",!1,2,"item/pusher_hand");static SHIELD_BOOSTER=new this(105,"Ship Shield Booster","An inferior power source for shield generators.",!1,0,"item/repairkit");static SHIP_EMBIGGENER=new this(106,"Ship Embiggener","Makes your ship bigger. Press R to change axis.",!1,0,"item/ship_embiggener");static SHIP_SHRINKINATOR=new this(107,"Ship Shrinkinator","Makes your ship smaller. Space must be completely empty. Press R to change axis.",!1,0,"item/ship_shrinkinator");static EQUIPMENT_BACKPACK=new this(108,"Backpack","Equipment (Back). Lets you hold more items.",!1,1,"item/eq_backpack");static EQUIPMENT_SPEED_SKATES=new this(109,"Speed Skates","Equipment (Feet). SPEED.",!1,2,"item/eq_speed_skates");static EQUIPMENT_BOOSTER_BOOTS=new this(110,"Booster Boots","Equipment (Feet). Provides a double-jump and slightly more powerful jumps.",!1,2,"item/eq_booster_boots");static EQUIPMENT_LAUNCHER_GAUNTLETS=new this(111,"Launcher Gauntlets","Equipment (Hands). Throw items more powerfully.",!1,2,"item/eq_launcher_gauntlets");static EQUIPMENT_CONSTRUCTION_GAUNTLETS=new this(112,"Construction Gauntlets","Equipment (Hands). While in a safe zone: Doubles build/destruct/repair/use range and speed, and allows using objects through walls.",!1,2,"item/eq_construction_gauntlets");static EQUIPMENT_ROCKET_PACK=new this(113,"Rocket Pack","Equipment (Back). Speedy Flight.",!1,2,"item/eq_rocket_pack");static EQUIPMENT_HOVER_PACK=new this(114,"Hover Pack","Equipment (Back). Controlled Flight.",!1,2,"item/eq_hover_pack");static SCANNER_MANIFEST=new this(115,"Manifest Scanner","Generate a list of items on your ship.",!1,2,"item/scanner_manifest");static SCANNER_BOM=new this(116,"BoM Scanner","Generate a list of materials used to build your ship.",!1,2,"item/scanner_bom");static WRENCH_STARTER=new this(117,"Starter Wrench","Useful for getting you out of a bind. Slow. Disappears if dropped.",!1,-1,"item/wrench_starter");static SHREDDER_STARTER=new this(118,"Starter Shredder","Destroys items. Slow. Disappears if dropped.",!1,-1,"item/item_shredder_starter");static HAND_CANNON=new this(119,"Hand Cannon","[TEST EXCLUSIVE] A small, handheld cannon. Uses ammo in your inventory.",!1,0,"item/hand_cannon");static SCANNER_BLUEPRINT=new this(120,"Blueprint Scanner","Generates blueprint strings, which describe how to rebuild ships or parts of ships. Click and drag to select a region.",!1,2,"item/scanner_blueprint");static RCD_SANDBOX=new this(121,"Sandbox RCD","Buildable. Used for automated construction. This test-exclusive variant can spawn items and doesn't need fuel. It works faster on ships owned by patrons.",!1,-1,"item/rcd_sandbox",[{bounds:{x:2.5,y:2.5},shape:{verts:[{x:-1.25,y:-.5},{x:-.5,y:-1.25},{x:.5,y:-1.25},{x:1.25,y:-.5},{x:1.25,y:.5},{x:.5,y:1.25},{x:-.5,y:1.25},{x:-1.25,y:.5}]},allow_non_solids:!0,image:"rcd_sandbox",image_only:!0}],!0);static RCD_FLUX=new this(122,"Flux RCD","Buildable. Used for automated construction. Consumes flux as fuel.",!1,2,"item/rcd_flux",[{bounds:{x:2.5,y:2.5},shape:{verts:[{x:-1.25,y:-.5},{x:-.5,y:-1.25},{x:.5,y:-1.25},{x:1.25,y:-.5},{x:1.25,y:.5},{x:.5,y:1.25},{x:-.5,y:1.25},{x:-1.25,y:.5}]},allow_non_solids:!0,image:"rcd_flux",image_only:!0}],!0);static SHIELD_CORE=new this(123,"Shield Core","A power source for shield generators.",!1,1,"item/shield_core");static AMMO_STANDARD=new this(150,"Standard Ammo","Fast reloads.",!0,0,"item/ammo_standard");static AMMO_SCATTER=new this(151,"ScatterShot Ammo","Shoots multiple projectiles. Good for damaging critical ships.",!0,0,"item/ammo_scattershot");static AMMO_FLAK=new this(152,"Flak Ammo","Explodes into more bullets in flight.",!0,0,"item/ammo_flak");static AMMO_SNIPER=new this(153,"Sniper Ammo","Flies swift & true. Bouncy.",!0,0,"item/ammo_sniper");static AMMO_PUNCH=new this(154,"Punch Ammo","Pushes objects away.",!0,0,"item/ammo_punch");static AMMO_YANK=new this(155,"Yank Ammo","Pulls objects.",!0,0,"item/ammo_yank");static AMMO_SLUG=new this(156,"Slug Ammo","Huge damage. Very slow.",!0,0,"item/ammo_slug");static AMMO_TRASH=new this(157,"Trash Ammo","Low quality, but free! Decays over time.",!0,0,"item/ammo_trash");static FUEL_BOOSTER_LOW=new this(159,"Booster Fuel (Low Grade)","Increases thruster power for a short time.",!1,0,"item/booster_low");static FUEL_BOOSTER_HIGH=new this(160,"Booster Fuel (High Grade)","Increases thruster power for a short time.",!1,2,"item/booster_high");static VOID_ORB=new this(161,"Void Orb","DO NOT EAT!",!1,10,"item/void_orb");static TURRET_BOOSTER_RAPID=new this(162,"Turret Booster - Rapid Fire","Boosts a re-configurable turret's fire rate by 50%, with reduced accuracy.",!1,2,"item/turret_booster_rapid");static TURRET_BOOSTER_RAPID_USED=new this(163,"Turret Booster - Rapid Fire (Depleted)","Boosts a re-configurable turret's fire rate by 25%, with reduced accuracy. Nearly depleted!",!1,2,"item/turret_booster_rapid_used");static TURRET_BOOSTER_PRESERVATION=new this(164,"Turret Booster - Preservation","Boosts a re-configurable turret's ammo preservation by 10%, with reduced rotational aiming limits.",!1,2,"item/turret_booster_preservation");static TURRET_BOOSTER_PRESERVATION_USED=new this(165,"Turret Booster - Preservation (Depleted)","Boosts a re-configurable turret's ammo preservation by 5%, with reduced rotational aiming limits. Nearly depleted!",!1,2,"item/turret_booster_preservation_used");static HELM=new this(215,"Helm (Packaged)","Buildable. Used to pilot your ship.",!1,0,"item/helm",[{snap_y:!0,offset:{x:0,y:.3},bounds:{x:1.5,y:1.5},require_blocks:[{x:0,y:-1,block:"_BUILD_SURFACE"}],allow_solids:!0,image:"helm_wheel",image_only:!0}]);static HELM_STARTER=new this(216,"Helm (Starter, Packaged)","Buildable Starter Item. Used to pilot your ship.",!1,-1,"item/helm_starter",[{snap_y:!0,offset:{x:0,y:.3},bounds:{x:1.5,y:1.5},require_blocks:[{x:0,y:-1,block:"_BUILD_SURFACE"}],allow_solids:!0,image:"helm_wheel_starter",image_only:!0}]);static COMMS_STATION=new this(217,"Comms Station (Packaged)","Buildable. Used to communicate with other ships.",!1,0,"item/comms",[{snap_y:!0,offset:{x:0,y:-.25},bounds:{x:1.25,y:2.5},require_blocks:[{x:0,y:-2,block:"_BUILD_SURFACE"}],allow_solids:!0,image:"comms_station",image_only:!0}]);static SIGN=new this(218,"Sign (Packaged)","Buildable. Can display a short message.",!1,0,"item/sign",[{snap_x:!0,snap_y:!0,bounds:{x:1,y:1},allow_solids:!0,image:"sign"}],!0);static SPAWN_POINT=new this(219,"Spawn Point (Packaged)","Buildable. Can be set to spawn a specific rank.",!1,0,"item/spawn",[{snap_y:!0,offset:{x:0,y:.5},bounds:{x:1,y:2},require_blocks:[{x:0,y:-2,block:"_BUILD_SURFACE"}],allow_solids:!0,image:"spawn"}],!0);static DOOR=new this(220,"Door (Packaged)","Buildable. Can be restricted to specific ranks. Press R to rotate.",!1,0,"item/door",[{buildDirection:"HORIZONTAL",snap_x:!0,snap_y:!0,offset:{x:.5,y:0},bounds:{x:2,y:.45},image:"door_full"},{buildDirection:"VERTICAL",snap_x:!0,snap_y:!0,offset:{x:0,y:.5},bounds:{x:.45,y:2},image:"door_full"}],!0);static ITEM_HATCH=new this(221,"Cargo Hatch (Packaged)","Buildable. Drops items picked up by the ship.",!1,0,"item/item_hatch",[{snap_x:!0,snap_y:!0,bounds:{x:1,y:1},allow_solids:!0}]);static ITEM_HATCH_STARTER=new this(222,"Cargo Hatch (Starter, Packaged)","Buildable Starter Item. Drops items picked up by the ship.",!1,-1,"item/item_hatch_starter",[{snap_x:!0,snap_y:!0,bounds:{x:1,y:1},allow_solids:!0}]);static ITEM_EJECTOR=new this(223,"Cargo Ejector (Packaged)","Buildable. Can be used to eject items from the ship.",!1,0,"item/item_ejector",[{buildDirection:"HORIZONTAL",snap_x:!0,snap_y:!0,bounds:{x:2.8,y:.8},require_blocks:[{x:0,y:0,block:"HULL_H"},{x:1,y:0,block:"HULL_H"},{x:-1,y:0,block:"HULL_H"}],allow_world:!0},{buildDirection:"VERTICAL",snap_x:!0,snap_y:!0,bounds:{x:.8,y:2.8},require_blocks:[{x:0,y:0,block:"HULL_V"},{x:0,y:1,block:"HULL_V"},{x:0,y:-1,block:"HULL_V"}],allow_world:!0}]);static TURRET_CONTROLLER=new this(224,"Turret Controller (Packaged)","Buildable. Controls adjacent turrets.",!1,0,"item/turret_controller",[{buildDirection:"HORIZONTAL",snap_x:!0,snap_y:!0,bounds:{x:2.8,y:.8},require_blocks:[{x:0,y:0,block:"HULL_H"},{x:1,y:0,block:"HULL_H"},{x:-1,y:0,block:"HULL_H"}],allow_world:!0},{buildDirection:"VERTICAL",snap_x:!0,snap_y:!0,bounds:{x:.8,y:2.8},require_blocks:[{x:0,y:0,block:"HULL_V"},{x:0,y:1,block:"HULL_V"},{x:0,y:-1,block:"HULL_V"}],allow_world:!0}]);static TURRET_REMOTE=new this(226,"RC Turret (Packaged)","Buildable. Controlled remotely from the helm.",!1,1,"item/turret_rc",[{buildDirection:"HORIZONTAL",snap_x:!0,snap_y:!0,bounds:{x:2.8,y:.8},require_blocks:[{x:0,y:0,block:"HULL_H"},{x:1,y:0,block:"HULL_H"},{x:-1,y:0,block:"HULL_H"}],allow_world:!0},{buildDirection:"VERTICAL",snap_x:!0,snap_y:!0,bounds:{x:.8,y:2.8},require_blocks:[{x:0,y:0,block:"HULL_V"},{x:0,y:1,block:"HULL_V"},{x:0,y:-1,block:"HULL_V"}],allow_world:!0}]);static TURRET_REMOTE_STARTER=new this(227,"RC Turret (Starter, Packaged)","Buildable Starter Item. Controlled remotely from the helm.",!1,-1,"item/turret_rc_starter",[{buildDirection:"HORIZONTAL",snap_x:!0,snap_y:!0,bounds:{x:2.8,y:.8},require_blocks:[{x:0,y:0,block:"HULL_H"},{x:1,y:0,block:"HULL_H"},{x:-1,y:0,block:"HULL_H"}],allow_world:!0},{buildDirection:"VERTICAL",snap_x:!0,snap_y:!0,bounds:{x:.8,y:2.8},require_blocks:[{x:0,y:0,block:"HULL_V"},{x:0,y:1,block:"HULL_V"},{x:0,y:-1,block:"HULL_V"}],allow_world:!0}]);static TURRET_BURST=new this(228,"Burst Turret (Packaged)","Buildable. Fires a burst of shots.",!1,1,"item/turret_burst",[{buildDirection:"HORIZONTAL",snap_x:!0,snap_y:!0,bounds:{x:2.8,y:.8},require_blocks:[{x:0,y:0,block:"HULL_H"},{x:1,y:0,block:"HULL_H"},{x:-1,y:0,block:"HULL_H"}],allow_world:!0},{buildDirection:"VERTICAL",snap_x:!0,snap_y:!0,bounds:{x:.8,y:2.8},require_blocks:[{x:0,y:0,block:"HULL_V"},{x:0,y:1,block:"HULL_V"},{x:0,y:-1,block:"HULL_V"}],allow_world:!0}]);static TURRET_AUTO=new this(229,"Auto Turret (Packaged)","Buildable. Fully automatic gun.",!1,1,"item/turret_auto",[{buildDirection:"HORIZONTAL",snap_x:!0,snap_y:!0,bounds:{x:2.8,y:.8},require_blocks:[{x:0,y:0,block:"HULL_H"},{x:1,y:0,block:"HULL_H"},{x:-1,y:0,block:"HULL_H"}],allow_world:!0},{buildDirection:"VERTICAL",snap_x:!0,snap_y:!0,bounds:{x:.8,y:2.8},require_blocks:[{x:0,y:0,block:"HULL_V"},{x:0,y:1,block:"HULL_V"},{x:0,y:-1,block:"HULL_V"}],allow_world:!0}]);static THRUSTER=new this(230,"Thruster (Packaged)","Buildable. Moves your ship. Fuelled with explosives.",!1,0,"item/thruster",[{buildDirection:"HORIZONTAL",snap_x:!0,snap_y:!0,bounds:{x:2.8,y:.8},require_blocks:[{x:0,y:0,block:"HULL_H"},{x:1,y:0,block:"HULL_H"},{x:-1,y:0,block:"HULL_H"}],allow_world:!0},{buildDirection:"VERTICAL",snap_x:!0,snap_y:!0,bounds:{x:.8,y:2.8},require_blocks:[{x:0,y:0,block:"HULL_V"},{x:0,y:1,block:"HULL_V"},{x:0,y:-1,block:"HULL_V"}],allow_world:!0}]);static THRUSTER_STARTER=new this(231,"Thruster (Starter, Packaged)","Buildable Starter Item. Moves your ship. Doesn't need fuel.",!1,-1,"item/thruster_starter",[{snap_x:!0,snap_y:!0,bounds:{x:.8,y:.8},require_blocks:[{x:0,y:0,block:"HULL_CORNER"}],allow_world:!0}]);static BLOCK=new this(232,"Iron Block","Buildable. Used for interior walls/floors.",!0,0,"item/block",[{snap_x:!0,snap_y:!0,bounds:{x:1,y:1},block:4,block_shaped:!0}]);static BLOCK_HYPER_RUBBER=new this(233,"Hyper Rubber Block","Buildable. Bouncy.",!0,2,"item/block_hrubber",[{snap_x:!0,snap_y:!0,bounds:{x:1,y:1},block:13,block_shaped:!0}]);static BLOCK_ICE_GLASS=new this(234,"Hyper Ice Block","Buildable. Low-friction ice that can't melt for some reason.",!0,0,"item/block_sglass",[{snap_x:!0,snap_y:!0,bounds:{x:1,y:1},block:14,block_shaped:!0}]);static BLOCK_LADDER=new this(235,"Ladder","Buildable. You can climb them.",!0,0,"item/ladder",[{snap_x:!0,snap_y:!0,bounds:{x:1,y:1},block:5}]);static BLOCK_WALKWAY=new this(236,"Walkway","Buildable. Blocks players but not items.",!0,0,"item/walkway",[{snap_x:!0,snap_y:!0,bounds:{x:1,y:1},block:6,block_shaped:!0}]);static BLOCK_ITEM_NET=new this(237,"Item Net","Buildable. Blocks items but not players.",!0,0,"item/item_net",[{snap_x:!0,snap_y:!0,bounds:{x:1,y:1},block:7,block_shaped:!0}]);static PAINT=new this(239,"Paint","Used to paint your ship's background. Hold R to select color.",!0,0,"item/color_panel",[{snap_x:!0,snap_y:!0,bounds:{x:1,y:1},block_is_colored:!0,allow_world:!0,allow_any:!0}],!0);static EXPANDO_BOX=new this(240,"Expando Box (Packaged)","Buildable. Flexible bulk storage.",!1,0,"item/exbox",[{bounds:{x:2,y:2},shape:{verts:[{x:-.95,y:-.75},{x:-.75,y:-.95},{x:.75,y:-.95},{x:.95,y:-.75},{x:.95,y:.75},{x:.75,y:.95},{x:-.75,y:.95},{x:-.95,y:.75}]},allow_non_solids:!0,build_angle:"Any",image:"exbox_base",image_only:!0}]);static FREEPORT_ANCHOR=new this(241,"Safety Anchor","Buildable. Prevents teleports out of safe zones while placed.",!1,0,"item/anchor",[{bounds:{x:3,y:3},snap_x:!0,snap_y:!0,image:"anchor"}]);static PUSHER=new this(242,"Pusher (Packaged)","Buildable. Pushes things.",!1,2,"item/pusher",[{snap_x:!0,snap_y:!0,bounds:{x:1,y:1},image:"loader_base",image_only:!0}]);static ITEM_LAUNCHER=new this(243,"Item Launcher (Packaged)","Buildable. Launches items at a configurable speed and angle.",!1,2,"item/item_launcher",[{snap_x:!0,snap_y:!0,bounds:{x:1,y:1},image:"item_launcher",image_only:!0}],!0);static LOADER=new this(244,"DEPRECATED ITEM","DEPRECATED ITEM",!1,2,"item/loader_old");static RECYCLER=new this(245,"Recycler (Packaged)","Buildable. Converts items back into resources.",!1,0,"item/recycler",[{snap_y:!0,offset:{x:0,y:.25},bounds:{x:2.25,y:3.5},require_blocks:[{x:0,y:-2,block:"_BUILD_SURFACE"}],allow_solids:!0,image:"recycler",image_only:!0}]);static FABRICATOR_GOLD=new this(246,"Fabricator (Legacy, Packaged)","Buildable. It doesn't do anything.",!1,9,"item/fabricator_legacy",[{snap_y:!0,bounds:{x:2.5,y:3},require_blocks:[{x:0,y:-2,block:"_BUILD_SURFACE"}],allow_solids:!0,image:"fab_lod",image_only:!0}],void 0,"Legacy");static FABRICATOR_STARTER=new this(247,"Fabricator (Starter, Packaged)","Buildable Starter Item. Used to craft basic items.",!1,-1,"item/fabricator_starter",[{snap_y:!0,bounds:{x:2.5,y:3},require_blocks:[{x:0,y:-2,block:"_BUILD_SURFACE"}],allow_solids:!0,image:"fab_lod",image_only:!0}],void 0,"Starter");static FABRICATOR_MUNITIONS=new this(248,"Fabricator (Munitions, Packaged)","Buildable. Used to craft ammo and other consumables.",!1,0,"item/fabricator_munitions",[{snap_y:!0,bounds:{x:2.5,y:3},require_blocks:[{x:0,y:-2,block:"_BUILD_SURFACE"}],allow_solids:!0,image:"fab_lod",image_only:!0}],void 0,"Munitions");static FABRICATOR_ENGINEERING=new this(249,"Fabricator (Engineering, Packaged)","Buildable. Used to craft tools, blocks, and security items.",!1,0,"item/fabricator_engineering",[{snap_y:!0,bounds:{x:2.5,y:3},require_blocks:[{x:0,y:-2,block:"_BUILD_SURFACE"}],allow_solids:!0,image:"fab_lod",image_only:!0}],void 0,"Engineering");static FABRICATOR_MACHINE=new this(250,"Fabricator (Machine, Packaged)","Buildable. Used to craft machines such as fabricators, helms, and turrets.",!1,0,"item/fabricator_machine",[{snap_y:!0,bounds:{x:2.5,y:3},require_blocks:[{x:0,y:-2,block:"_BUILD_SURFACE"}],allow_solids:!0,image:"fab_lod",image_only:!0}],void 0,"Machine");static FABRICATOR_EQUIPMENT=new this(251,"Fabricator (Equipment, Packaged)","Buildable. Used to craft wearable equipment.",!1,0,"item/fabricator_equipment",[{snap_y:!0,bounds:{x:2.5,y:3},require_blocks:[{x:0,y:-2,block:"_BUILD_SURFACE"}],allow_solids:!0,image:"fab_lod",image_only:!0}],void 0,"Equipment");static LOADER_NEW=new this(252,"Loader (Packaged)","Buildable. Loads items into machines.",!1,2,"item/loader",[{snap_x:!0,snap_y:!0,bounds:{x:1,y:1},image:"loader_base",image_only:!0}]);static LOCKDOWN_OVERRIDE_GREEN=new this(253,"Lockdown Override Unit","Buildable. Allows a limited number of green rarity items to be removed from a ship while in lockdown mode.",!1,2,"item/lockdown_override_green",[{bounds:{x:1,y:1},snap_x:!0,snap_y:!0,image:"lockdown_override_green",is_lockdown_override:!0}],!0);static BLOCK_ANNIHILATOR=new this(254,"Annihilator Tile","[TEST EXCLUSIVE] Buildable. Destroys objects.",!0,0,"item/annihilator_tile",[{snap_x:!0,snap_y:!0,bounds:{x:1,y:1},block:15}]);static FLUID_TANK=new this(255,"Fluid Tank","Buildable. Stores fluids.",!1,0,"item/tank",[{bounds:{x:2,y:2},snap_x:!0,snap_y:!0,offset:{x:.5,y:.5},offset2:{x:-.5,y:-.5},image:"tank"}]);static SHIELD_GENERATOR=new this(256,"Shield Generator","Buildable. Generates shield fluid.",!1,2,"item/shield_generator",[{bounds:{x:4,y:2},snap_x:!0,snap_y:!0,offset:{x:.5,y:.5},offset2:{x:-.5,y:-.5},image:"shield_generator",build_angle:"Fixed",image_only:!0}]);static SHIELD_PROJECTOR=new this(257,"Shield Projector","Buildable. Used to activate an adjacent bank of shield tanks.",!1,2,"item/shield_projector",[{bounds:{x:1,y:1},snap_x:!0,snap_y:!0,image:"shield_projector_1"}]);static TURRET_CONTROLLER_NEW=new this(258,"Enhanced Turret Controller","Buildable. Used to control turrets remotely.",!1,2,"item/turret_controller_new",[{bounds:{x:1,y:1},snap_x:!0,snap_y:!0}]);static BULK_EJECTOR=new this(259,"Bulk Ejector (Packaged)","Buildable. WIP / UNOBTAINABLE",!1,2,"item/bulk_ejector",[{bounds:{x:2,y:2},snap_x:!0,snap_y:!0,offset:{x:.5,y:.5},offset2:{x:-.5,y:-.5},build_angle:"Fixed"}]);static BULK_BAY_MARKER=new this(260,"Bulk Loading Bay Designator (Packaged)","Buildable. WIP / UNOBTAINABLE",!1,2,"item/bulk_bay_marker",[{bounds:{x:1,y:1},snap_x:!0,snap_y:!0}]);static NAV_UNIT=new this(261,"Navigation Unit (Starter, Packaged)","Buildable Starter Item. Used to select a destination zone. Also functions as a simple shield projector.",!1,-1,"item/nav_unit",[{bounds:{x:1,y:1},snap_x:!0,snap_y:!0}]);static ETERNAL_WRENCH_BRONZE=new this(300,"Eternal Bronze Wrench","Patron reward. Will not despawn. Thank you for your support! \u{1F600}",!1,-1,"item/wrench_bronze_et");static ETERNAL_WRENCH_SILVER=new this(301,"Eternal Silver Wrench","Patron reward. Will not despawn. Thank you for your support! \u{1F600}",!1,-1,"item/wrench_silver_et");static ETERNAL_WRENCH_GOLD=new this(302,"Eternal Gold Wrench","Patron reward. Will not despawn. Thank you for your support! \u{1F600}",!1,-1,"item/wrench_gold_et");static ETERNAL_WRENCH_FLUX=new this(303,"Eternal Flux Wrench","Patron reward. Will not despawn. Thank you for your support! \u{1F600}",!1,-1,"item/wrench_flux_et");static ETERNAL_WRENCH_PLATINUM=new this(304,"Eternal Platinum Wrench","Patron reward. Will not despawn. Thank you for your support! \u{1F600}",!1,-1,"item/wrench_platinum_et");static TROPHY_NULL=new this(305,"Gold Null Trophy","RIP 0x items.",!1,9,"item/trophy_null");static TROPHY_BUG_HUNTER=new this(306,"Bug Hunter Trophy","Rewarded for reporting a serious problem.",!1,-1,"item/trophy_bug");static TROPHY_NULL_SILVER=new this(307,"Silver Null Trophy","RIP 0x items.",!1,9,"item/trophy_null_silver");static PAT_WRENCH_BRONZE=new this(308,"Bronze Wrench","Patron reward. Thank you for your support! \u{1F600}",!1,0,"item/wrench_bronze");static PAT_WRENCH_SILVER=new this(309,"Silver Wrench","Patron reward. Thank you for your support! \u{1F600}",!1,0,"item/wrench_silver");static PAT_WRENCH_GOLD=new this(310,"Gold Wrench","Patron reward. Thank you for your support! \u{1F600}",!1,0,"item/wrench_gold");static PAT_WRENCH_PLATINUM=new this(311,"Platinum Wrench","Patron reward. Thank you for your support! \u{1F600}",!1,0,"item/wrench_platinum");static PAT_WRENCH_FLUX=new this(312,"Flux Wrench","Patron reward. Thank you for your support! \u{1F600}",!1,0,"item/wrench_flux");static COS_LESSER_CAP=new this(313,"Lesser Cap","Cosmetic Equipment (Head). Patron reward.",!1,0,"item/cap");static COS_GOOFY_GLASSES=new this(314,"Goofy Glasses","Cosmetic Equipment (Face). Patron reward.",!1,0,"item/glasses");static COS_SHADES=new this(315,"Shades","Cosmetic Equipment (Face). Patron reward.",!1,0,"item/shades");static COS_TOP_HAT=new this(316,"Top Hat","Cosmetic Equipment (Head). Patron reward.",!1,0,"item/top_hat");static COS_HORNS=new this(317,"Demon Horns","Cosmetic Equipment (Head). Patron reward.",!1,0,"item/horns");static COS_MASK_ALIEN=new this(318,"Alien Mask","Cosmetic Equipment (Face). Patron reward.",!1,0,"item/mask_alien");static COS_MASK_CLOWN=new this(319,"Clown Mask","Cosmetic Equipment (Face). Patron reward.",!1,0,"item/mask_clown");static COS_MASK_GOBLIN=new this(320,"Goblin Mask","Cosmetic Equipment (Face). Patron reward.",!1,0,"item/mask_goblin");static COS_PUMPKIN=new this(321,"Pumpkin","Cosmetic Equipment (Face). Patron reward.",!1,0,"item/mask_pumpkin");static COS_WITCH_HAT=new this(322,"Witch Hat","Cosmetic Equipment (Head). Patron reward.",!1,0,"item/witch_hat");static GREMLIN_RED=new this(323,"Wild Gremlin (Red)","It looks upset.",!1,0,"item/gremlin_red");static GREMLIN_ORANGE=new this(324,"Wild Gremlin (Orange)","It looks upset.",!1,0,"item/gremlin_orange");static GREMLIN_YELLOW=new this(325,"Wild Gremlin (Yellow)","It looks upset.",!1,0,"item/gremlin_yellow");static{this.end()}};var ut=class extends N{constructor(e,i){super(e);this.vertices=i}static BLOCK=new this(0,[{x:-.5,y:-.5},{x:.5,y:-.5},{x:.5,y:.5},{x:-.5,y:.5}]);static RAMP_UR=new this(1,[{x:-.5,y:-.5},{x:.5,y:-.5},{x:-.5,y:.5}]);static RAMP_DR=new this(2,[{x:-.5,y:-.5},{x:.5,y:.5},{x:-.5,y:.5}]);static RAMP_DL=new this(3,[{x:.5,y:-.5},{x:.5,y:.5},{x:-.5,y:.5}]);static RAMP_UL=new this(4,[{x:-.5,y:-.5},{x:.5,y:-.5},{x:.5,y:.5}]);static SLAB_U=new this(5,[{x:-.5,y:-.5},{x:.5,y:-.5},{x:.5,y:0},{x:-.5,y:0}]);static SLAB_R=new this(6,[{x:-.5,y:-.5},{x:0,y:-.5},{x:0,y:.5},{x:-.5,y:.5}]);static SLAB_D=new this(7,[{x:-.5,y:0},{x:.5,y:0},{x:.5,y:.5},{x:-.5,y:.5}]);static SLAB_L=new this(8,[{x:0,y:-.5},{x:.5,y:-.5},{x:.5,y:.5},{x:0,y:.5}]);static HALF_RAMP_1_U=new this(9,[{x:-.5,y:-.5},{x:.5,y:-.5},{x:-.5,y:0}]);static HALF_RAMP_1_R=new this(10,[{x:-.5,y:-.5},{x:0,y:.5},{x:-.5,y:.5}]);static HALF_RAMP_1_D=new this(11,[{x:.5,y:0},{x:.5,y:.5},{x:-.5,y:.5}]);static HALF_RAMP_1_L=new this(12,[{x:0,y:-.5},{x:.5,y:-.5},{x:.5,y:.5}]);static HALF_RAMP_2_U=new this(13,[{x:-.5,y:-.5},{x:.5,y:-.5},{x:.5,y:0},{x:-.5,y:.5}]);static HALF_RAMP_2_R=new this(14,[{x:-.5,y:-.5},{x:0,y:-.5},{x:.5,y:.5},{x:-.5,y:.5}]);static HALF_RAMP_2_D=new this(15,[{x:-.5,y:0},{x:.5,y:-.5},{x:.5,y:.5},{x:-.5,y:.5}]);static HALF_RAMP_2_L=new this(16,[{x:-.5,y:-.5},{x:.5,y:-.5},{x:.5,y:.5},{x:0,y:.5}]);static HALF_RAMP_1_UI=new this(17,[{x:-.5,y:-.5},{x:.5,y:-.5},{x:.5,y:0}]);static HALF_RAMP_1_RI=new this(18,[{x:-.5,y:-.5},{x:0,y:-.5},{x:-.5,y:.5}]);static HALF_RAMP_1_DI=new this(19,[{x:-.5,y:0},{x:.5,y:.5},{x:-.5,y:.5}]);static HALF_RAMP_1_LI=new this(20,[{x:.5,y:-.5},{x:.5,y:.5},{x:0,y:.5}]);static HALF_RAMP_2_UI=new this(21,[{x:-.5,y:-.5},{x:.5,y:-.5},{x:.5,y:.5},{x:-.5,y:0}]);static HALF_RAMP_2_RI=new this(22,[{x:-.5,y:-.5},{x:.5,y:-.5},{x:0,y:.5},{x:-.5,y:.5}]);static HALF_RAMP_2_DI=new this(23,[{x:-.5,y:-.5},{x:.5,y:0},{x:.5,y:.5},{x:-.5,y:.5}]);static HALF_RAMP_2_LI=new this(24,[{x:0,y:-.5},{x:.5,y:-.5},{x:.5,y:.5},{x:-.5,y:.5}]);static HALF_RAMP_3_U=new this(25,[{x:-.5,y:0},{x:.5,y:0},{x:-.5,y:.5}]);static HALF_RAMP_3_R=new this(26,[{x:0,y:-.5},{x:.5,y:.5},{x:0,y:.5}]);static HALF_RAMP_3_D=new this(27,[{x:.5,y:-.5},{x:.5,y:0},{x:-.5,y:0}]);static HALF_RAMP_3_L=new this(28,[{x:-.5,y:-.5},{x:0,y:-.5},{x:0,y:.5}]);static HALF_RAMP_3_UI=new this(29,[{x:-.5,y:0},{x:.5,y:0},{x:.5,y:.5}]);static HALF_RAMP_3_RI=new this(30,[{x:0,y:-.5},{x:.5,y:-.5},{x:0,y:.5}]);static HALF_RAMP_3_DI=new this(31,[{x:-.5,y:-.5},{x:.5,y:0},{x:-.5,y:0}]);static HALF_RAMP_3_LI=new this(32,[{x:0,y:-.5},{x:0,y:.5},{x:-.5,y:.5}]);static QUARTER_UR=new this(33,[{x:-.5,y:-.5},{x:0,y:-.5},{x:0,y:0},{x:-.5,y:0}]);static QUARTER_DR=new this(34,[{x:-.5,y:0},{x:0,y:0},{x:0,y:.5},{x:-.5,y:.5}]);static QUARTER_DL=new this(35,[{x:0,y:0},{x:.5,y:0},{x:.5,y:.5},{x:0,y:.5}]);static QUARTER_UL=new this(36,[{x:0,y:-.5},{x:.5,y:-.5},{x:.5,y:0},{x:0,y:0}]);static QUARTER_RAMP_UR=new this(37,[{x:-.5,y:-.5},{x:0,y:-.5},{x:-.5,y:0}]);static QUARTER_RAMP_DR=new this(38,[{x:-.5,y:0},{x:0,y:.5},{x:-.5,y:.5}]);static QUARTER_RAMP_DL=new this(39,[{x:.5,y:0},{x:.5,y:.5},{x:0,y:.5}]);static QUARTER_RAMP_UL=new this(40,[{x:0,y:-.5},{x:.5,y:-.5},{x:.5,y:0}]);static BEVEL_UR=new this(41,[{x:-.5,y:-.5},{x:.5,y:-.5},{x:.5,y:0},{x:0,y:.5},{x:-.5,y:.5}]);static BEVEL_DR=new this(42,[{x:-.5,y:-.5},{x:0,y:-.5},{x:.5,y:0},{x:.5,y:.5},{x:-.5,y:.5}]);static BEVEL_DL=new this(43,[{x:0,y:-.5},{x:.5,y:-.5},{x:.5,y:.5},{x:-.5,y:.5},{x:-.5,y:0}]);static BEVEL_UL=new this(44,[{x:-.5,y:-.5},{x:.5,y:-.5},{x:.5,y:.5},{x:0,y:.5},{x:-.5,y:0}]);static{this.end()}};var X=class extends it{x;y;item;bits;shape;constructor(t){super();for(let e in this)Object.defineProperty(this,e,{configurable:!1});if(t!=null){if(Object.getPrototypeOf(t)!=Object.prototype)throw new TypeError("input must be an object literal");this.set(t)}}set(t){return Object.assign(this,t)}fillFromArray(t){return this.x=t[1],this.y=t[2],this.item=G.getById(t[3]),this.bits=typeof t[4]<"u"?new yt(t[4]):void 0,this.shape=ut.getByValue(t[5]),this}toArray(){let t=[];return t[0]=0,this.x!==void 0&&(t[1]=this.x),this.y!==void 0&&(t[2]=this.y),this.item!==void 0&&(t[3]=this.item.id),this.bits!==void 0&&(t[4]=this.bits.int),this.shape!==void 0&&this.shape!=ut.BLOCK&&(t[5]=this.shape.enumValue,typeof t[4]>"u"&&(t[4]=1n)),t}clone(){let t=Object.assign(Object.create(Object.getPrototypeOf(this)),this);return this.bits&&(t.bits=this.bits.clone()),t}};var Lt="DSA:",nt=class extends N{static PUSH=new this(0);static PULL=new this(1);static DO_NOTHING=new this(2);static{this.end()}},st=class extends N{static TOP_LEFT=new this(0);static TOP=new this(1);static TOP_RIGHT=new this(2);static LEFT=new this(3);static RIGHT=new this(4);static BOTTOM_LEFT=new this(5);static BOTTOM=new this(6);static BOTTOM_RIGHT=new this(7);static{this.end()}},pt=class extends N{static LOW=new this(0);static NORMAL=new this(1);static HIGH=new this(2);static{this.end()}},mt=class extends N{static ALLOW_ALL=new this(0);static BLOCK_FILTER_ONLY=new this(1);static ALLOW_FILTER_ONLY=new this(2);static BLOCK_ALL=new this(3);static{this.end()}},_t=class extends N{static RIGHT=new this(0);static UP=new this(1);static LEFT=new this(2);static DOWN=new this(3);static{this.end()}};var et={filterMode:mt.ALLOW_ALL,filterItems:[G.NULL,G.NULL,G.NULL],angle:0,fixedAngle:_t.RIGHT,pusher:{defaultMode:nt.DO_NOTHING,filteredMode:nt.PUSH,angle:0,targetSpeed:20,filterByInventory:!1,maxBeamLength:1e3},loader:{pickupPoint:st.LEFT,dropPoint:st.RIGHT,priority:pt.NORMAL,stackLimit:16,cycleTime:20,requireOutputInventory:!1,waitForStackLimit:!1}},dt={filter_config:"filterMode",filter_items:"filterItems",angle:"angle",angle_fixed:"fixedAngle",config_pusher:"pusher",config_loader:"loader"};for(let r in dt)dt[dt[r]]=r;var F=class extends it{static get defaults(){return et}static set defaults(t){if(t!=null&&Object.getPrototypeOf(t)!=Object.prototype)throw new TypeError("defaults can only be set to an object literal");et=t}rawData;filterMode;filterItems;angle;fixedAngle;pusher={};loader={};constructor(t){super();for(let e in this)Object.defineProperty(this,e,{configurable:!1});if(t!=null){if(Object.getPrototypeOf(t)!=Object.prototype)throw new TypeError("input must be an object literal");this.set(t)}}set(t){return Object.assign(this,t)}fillFromArray(t){if(t[1]==null)return this;if(t[1]instanceof Uint8Array)return this.rawData=t[1],this;t=t[1];for(let e=0;e<t.length;e++)if(!(e<=1)&&typeof t[e]=="string"&&t[e+1]===0){let i=t[e],n=t[e+2];Array.isArray(n)&&(n=me(i,n)??n),this[dt[i]??i]=n,e+=2}return this}fillDataFromArray(t){let e=[];return e[0]=1,e[1]=t,this.fillFromArray(e)}toArray(){let t=[];if(t[0]=1,this.isRaw)return t[1]=this.rawData,t;t[1]=[0,0];for(let e of Object.keys(this)){let i=structuredClone(this[e]),n=dt[e]??e;if(i!==void 0){if(n=="filter_config")i=[(i??et.filterMode).enumValue];else if(n=="filter_items")if(i===null)i=et.filterItems;else for(let s=0;s<i.length;s++)i[s]=(i[s]??et.filterItems[s]).enumValue;else if(n=="angle_fixed")i=[(i??et.fixedAngle).enumValue];else if(i===null||Object.getPrototypeOf(i)==Object.prototype){if(i!==null&&!Object.keys(i).length)continue;i=_e(n,i)}else Array.isArray(i)||(i=[i]);t[1].push(n,0,i)}}return t}get isRaw(){return this.rawData instanceof Uint8Array}equals(t){return Zt(this,t)}clone(){let t=Object.assign(Object.create(Object.getPrototypeOf(this)),this);return this.rawData&&(t.rawData=new Uint8Array(this.rawData)),t}};function Zt(r,t){if(r===t)return!0;if(r?.constructor!==t?.constructor)return!1;let e=Object.keys(r);return r&&t&&typeof r=="object"&&typeof t=="object"?e.length===Object.keys(t).length&&e.every(i=>Zt(r[i],t[i])):r===t}function me(r,t){switch(r){case"angle":return t[0];case"filter_config":return mt.getByValue(t[0]);case"filter_items":for(let e=0;e<t.length;e++)t[e]=G.getById(t[e]);return t;case"config_loader":return{pickupPoint:st.getByValue(t[0]),dropPoint:st.getByValue(t[1]),priority:pt.getByValue(t[2]),stackLimit:t[3],cycleTime:t[4],requireOutputInventory:t[5],waitForStackLimit:t[6]};case"config_pusher":return{defaultMode:nt.getByValue(t[0]),filteredMode:nt.getByValue(t[1]),angle:t[2],targetSpeed:t[3],filterByInventory:t[4],maxBeamLength:t[5]};case"angle_fixed":return _t.getByValue(t[0])}}function _e(r,t){let e=[];if(t!==null)for(let i in t)t[i]===null&&delete t[i];switch(r){case"config_loader":t={...et.loader,...t},e[0]=t.pickupPoint?.enumValue,e[1]=t.dropPoint?.enumValue,e[2]=t.priority?.enumValue,e[3]=t.stackLimit,e[4]=t.cycleTime,e[5]=t.requireOutputInventory,e[6]=t.waitForStackLimit;break;case"config_pusher":t={...et.pusher,...t},e[0]=t.defaultMode?.enumValue,e[1]=t.filteredMode?.enumValue,e[2]=t.angle,e[3]=t.targetSpeed,e[4]=t.filterByInventory,e[5]=t.maxBeamLength;break}return e}var K=class{version;width;height;commands;constructor(t){for(let e in this)Object.defineProperty(this,e,{configurable:!1});if(t==null)this.version=0,this.width=1,this.height=1,this.commands=[];else if(Object.getPrototypeOf(t)==Object.prototype)if(this.version=t.version??0,this.width=t.width??1,this.height=t.height??1,t.commands==null)this.commands=[];else{if(!Array.isArray(t.commands))throw new TypeError("input.commands must be an array");this.commands=t.commands}else throw new TypeError("input must be an object literal")}set(t){return Object.assign(this,t)}fillFromArray(t,e){return this.version=t[0],this.width=t[1],this.height=t[2],this.commands=e?t[3]:t[3].map(i=>{if(i[0]==0)return new X().fillFromArray(i);if(i[0]==1)return new F().fillFromArray(i)}),this}toArray(t){let e=[];return e[0]=this.version,e[1]=this.width,e[2]=this.height,e[3]=t?this.commands:this.commands.map(i=>i.toArray()),e}clone(){let t=Object.assign(Object.create(Object.getPrototypeOf(this)),this);return this.commands&&(t.commands=this.commands.map(e=>e.clone())),t}};var U=Uint8Array,V=Uint16Array,zt=Int32Array,Tt=new U([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Ot=new U([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Ht=new U([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),$t=function(r,t){for(var e=new V(31),i=0;i<31;++i)e[i]=t+=1<<r[i-1];for(var n=new zt(e[30]),i=1;i<30;++i)for(var s=e[i];s<e[i+1];++s)n[s]=s-e[i]<<5|i;return{b:e,r:n}},Jt=$t(Tt,2),te=Jt.b,Nt=Jt.r;te[28]=258,Nt[258]=28;var ee=$t(Ot,0),de=ee.b,jt=ee.r,Ft=new V(32768);for(c=0;c<32768;++c)Q=(c&43690)>>1|(c&21845)<<1,Q=(Q&52428)>>2|(Q&13107)<<2,Q=(Q&61680)>>4|(Q&3855)<<4,Ft[c]=((Q&65280)>>8|(Q&255)<<8)>>1;var Q,c,Z=function(r,t,e){for(var i=r.length,n=0,s=new V(t);n<i;++n)r[n]&&++s[r[n]-1];var l=new V(t);for(n=1;n<t;++n)l[n]=l[n-1]+s[n-1]<<1;var f;if(e){f=new V(1<<t);var p=15-t;for(n=0;n<i;++n)if(r[n])for(var m=n<<4|r[n],a=t-r[n],o=l[r[n]-1]++<<a,h=o|(1<<a)-1;o<=h;++o)f[Ft[o]>>p]=m}else for(f=new V(i),n=0;n<i;++n)r[n]&&(f[n]=Ft[l[r[n]-1]++]>>15-r[n]);return f},rt=new U(288);for(c=0;c<144;++c)rt[c]=8;var c;for(c=144;c<256;++c)rt[c]=9;var c;for(c=256;c<280;++c)rt[c]=7;var c;for(c=280;c<288;++c)rt[c]=8;var c,xt=new U(32);for(c=0;c<32;++c)xt[c]=5;var c,ge=Z(rt,9,0),we=Z(rt,9,1),xe=Z(xt,5,0),ve=Z(xt,5,1),Pt=function(r){for(var t=r[0],e=1;e<r.length;++e)r[e]>t&&(t=r[e]);return t},q=function(r,t,e){var i=t/8|0;return(r[i]|r[i+1]<<8)>>(t&7)&e},Dt=function(r,t){var e=t/8|0;return(r[e]|r[e+1]<<8|r[e+2]<<16)>>(t&7)},Wt=function(r){return(r+7)/8|0},re=function(r,t,e){return(t==null||t<0)&&(t=0),(e==null||e>r.length)&&(e=r.length),new U(r.subarray(t,e))};var be=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],J=function(r,t,e){var i=new Error(t||be[r]);if(i.code=r,Error.captureStackTrace&&Error.captureStackTrace(i,J),!e)throw i;return i},Ee=function(r,t,e,i){var n=r.length,s=i?i.length:0;if(!n||t.f&&!t.l)return e||new U(0);var l=!e,f=l||t.i!=2,p=t.i;l&&(e=new U(n*3));var m=function(ct){var ft=e.length;if(ct>ft){var lt=new U(Math.max(ft*2,ct));lt.set(e),e=lt}},a=t.f||0,o=t.p||0,h=t.b||0,_=t.l,L=t.d,d=t.m,C=t.n,W=n*8;do{if(!_){a=q(r,o,1);var P=q(r,o+1,3);if(o+=3,P)if(P==1)_=we,L=ve,d=9,C=5;else if(P==2){var I=q(r,o,31)+257,b=q(r,o+10,15)+4,y=I+q(r,o+5,31)+1;o+=14;for(var u=new U(y),E=new U(19),x=0;x<b;++x)E[Ht[x]]=q(r,o+x*3,7);o+=b*3;for(var O=Pt(E),tt=(1<<O)-1,D=Z(E,O,1),x=0;x<y;){var B=D[q(r,o,tt)];o+=B&15;var v=B>>4;if(v<16)u[x++]=v;else{var A=0,g=0;for(v==16?(g=3+q(r,o,3),o+=2,A=u[x-1]):v==17?(g=3+q(r,o,7),o+=3):v==18&&(g=11+q(r,o,127),o+=7);g--;)u[x++]=A}}var k=u.subarray(0,I),R=u.subarray(I);d=Pt(k),C=Pt(R),_=Z(k,d,1),L=Z(R,C,1)}else J(1);else{var v=Wt(o)+4,S=r[v-4]|r[v-3]<<8,T=v+S;if(T>n){p&&J(0);break}f&&m(h+S),e.set(r.subarray(v,T),h),t.b=h+=S,t.p=o=T*8,t.f=a;continue}if(o>W){p&&J(0);break}}f&&m(h+131072);for(var ht=(1<<d)-1,z=(1<<C)-1,j=o;;j=o){var A=_[Dt(r,o)&ht],M=A>>4;if(o+=A&15,o>W){p&&J(0);break}if(A||J(2),M<256)e[h++]=M;else if(M==256){j=o,_=null;break}else{var H=M-254;if(M>264){var x=M-257,w=Tt[x];H=q(r,o,(1<<w)-1)+te[x],o+=w}var Y=L[Dt(r,o)&z],at=Y>>4;Y||J(3),o+=Y&15;var R=de[at];if(at>3){var w=Ot[at];R+=Dt(r,o)&(1<<w)-1,o+=w}if(o>W){p&&J(0);break}f&&m(h+131072);var ot=h+H;if(h<R){var Et=s-R,At=Math.min(R,ot);for(Et+h<0&&J(3);h<At;++h)e[h]=i[Et+h]}for(;h<ot;++h)e[h]=e[h-R]}}t.l=_,t.p=j,t.b=h,t.f=a,_&&(a=1,t.m=d,t.d=L,t.n=C)}while(!a);return h!=e.length&&l?re(e,0,h):e.subarray(0,h)},$=function(r,t,e){e<<=t&7;var i=t/8|0;r[i]|=e,r[i+1]|=e>>8},gt=function(r,t,e){e<<=t&7;var i=t/8|0;r[i]|=e,r[i+1]|=e>>8,r[i+2]|=e>>16},Mt=function(r,t){for(var e=[],i=0;i<r.length;++i)r[i]&&e.push({s:i,f:r[i]});var n=e.length,s=e.slice();if(!n)return{t:ne,l:0};if(n==1){var l=new U(e[0].s+1);return l[e[0].s]=1,{t:l,l:1}}e.sort(function(T,I){return T.f-I.f}),e.push({s:-1,f:25001});var f=e[0],p=e[1],m=0,a=1,o=2;for(e[0]={s:-1,f:f.f+p.f,l:f,r:p};a!=n-1;)f=e[e[m].f<e[o].f?m++:o++],p=e[m!=a&&e[m].f<e[o].f?m++:o++],e[a++]={s:-1,f:f.f+p.f,l:f,r:p};for(var h=s[0].s,i=1;i<n;++i)s[i].s>h&&(h=s[i].s);var _=new V(h+1),L=Vt(e[a-1],_,0);if(L>t){var i=0,d=0,C=L-t,W=1<<C;for(s.sort(function(I,b){return _[b.s]-_[I.s]||I.f-b.f});i<n;++i){var P=s[i].s;if(_[P]>t)d+=W-(1<<L-_[P]),_[P]=t;else break}for(d>>=C;d>0;){var v=s[i].s;_[v]<t?d-=1<<t-_[v]++-1:++i}for(;i>=0&&d;--i){var S=s[i].s;_[S]==t&&(--_[S],++d)}L=t}return{t:new U(_),l:L}},Vt=function(r,t,e){return r.s==-1?Math.max(Vt(r.l,t,e+1),Vt(r.r,t,e+1)):t[r.s]=e},Xt=function(r){for(var t=r.length;t&&!r[--t];);for(var e=new V(++t),i=0,n=r[0],s=1,l=function(p){e[i++]=p},f=1;f<=t;++f)if(r[f]==n&&f!=t)++s;else{if(!n&&s>2){for(;s>138;s-=138)l(32754);s>2&&(l(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(l(n),--s;s>6;s-=6)l(8304);s>2&&(l(s-3<<5|8208),s=0)}for(;s--;)l(n);s=1,n=r[f]}return{c:e.subarray(0,i),n:t}},wt=function(r,t){for(var e=0,i=0;i<t.length;++i)e+=r[i]*t[i];return e},ie=function(r,t,e){var i=e.length,n=Wt(t+2);r[n]=i&255,r[n+1]=i>>8,r[n+2]=r[n]^255,r[n+3]=r[n+1]^255;for(var s=0;s<i;++s)r[n+s+4]=e[s];return(n+4+i)*8},Qt=function(r,t,e,i,n,s,l,f,p,m,a){$(t,a++,e),++n[256];for(var o=Mt(n,15),h=o.t,_=o.l,L=Mt(s,15),d=L.t,C=L.l,W=Xt(h),P=W.c,v=W.n,S=Xt(d),T=S.c,I=S.n,b=new V(19),y=0;y<P.length;++y)++b[P[y]&31];for(var y=0;y<T.length;++y)++b[T[y]&31];for(var u=Mt(b,7),E=u.t,x=u.l,O=19;O>4&&!E[Ht[O-1]];--O);var tt=m+5<<3,D=wt(n,rt)+wt(s,xt)+l,B=wt(n,h)+wt(s,d)+l+14+3*O+wt(b,E)+2*b[16]+3*b[17]+7*b[18];if(p>=0&&tt<=D&&tt<=B)return ie(t,a,r.subarray(p,p+m));var A,g,k,R;if($(t,a,1+(B<D)),a+=2,B<D){A=Z(h,_,0),g=h,k=Z(d,C,0),R=d;var ht=Z(E,x,0);$(t,a,v-257),$(t,a+5,I-1),$(t,a+10,O-4),a+=14;for(var y=0;y<O;++y)$(t,a+3*y,E[Ht[y]]);a+=3*O;for(var z=[P,T],j=0;j<2;++j)for(var M=z[j],y=0;y<M.length;++y){var H=M[y]&31;$(t,a,ht[H]),a+=E[H],H>15&&($(t,a,M[y]>>5&127),a+=M[y]>>12)}}else A=ge,g=rt,k=xe,R=xt;for(var y=0;y<f;++y){var w=i[y];if(w>255){var H=w>>18&31;gt(t,a,A[H+257]),a+=g[H+257],H>7&&($(t,a,w>>23&31),a+=Tt[H]);var Y=w&31;gt(t,a,k[Y]),a+=R[Y],Y>3&&(gt(t,a,w>>5&8191),a+=Ot[Y])}else gt(t,a,A[w]),a+=g[w]}return gt(t,a,A[256]),a+g[256]},Ae=new zt([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),ne=new U(0),Re=function(r,t,e,i,n,s){var l=s.z||r.length,f=new U(i+l+5*(1+Math.ceil(l/7e3))+n),p=f.subarray(i,f.length-n),m=s.l,a=(s.r||0)&7;if(t){a&&(p[0]=s.r>>3);for(var o=Ae[t-1],h=o>>13,_=o&8191,L=(1<<e)-1,d=s.p||new V(32768),C=s.h||new V(L+1),W=Math.ceil(e/3),P=2*W,v=function(It){return(r[It]^r[It+1]<<W^r[It+2]<<P)&L},S=new zt(25e3),T=new V(288),I=new V(32),b=0,y=0,u=s.i||0,E=0,x=s.w||0,O=0;u+2<l;++u){var tt=v(u),D=u&32767,B=C[tt];if(d[D]=B,C[tt]=D,x<=u){var A=l-u;if((b>7e3||E>24576)&&(A>423||!m)){a=Qt(r,p,0,S,T,I,y,E,O,u-O,a),E=b=y=0,O=u;for(var g=0;g<286;++g)T[g]=0;for(var g=0;g<30;++g)I[g]=0}var k=2,R=0,ht=_,z=D-B&32767;if(A>2&&tt==v(u-z))for(var j=Math.min(h,A)-1,M=Math.min(32767,u),H=Math.min(258,A);z<=M&&--ht&&D!=B;){if(r[u+k]==r[u+k-z]){for(var w=0;w<H&&r[u+w]==r[u+w-z];++w);if(w>k){if(k=w,R=z,w>j)break;for(var Y=Math.min(z,w-2),at=0,g=0;g<Y;++g){var ot=u-z+g&32767,Et=d[ot],At=ot-Et&32767;At>at&&(at=At,B=ot)}}}D=B,B=d[D],z+=D-B&32767}if(R){S[E++]=268435456|Nt[k]<<18|jt[R];var ct=Nt[k]&31,ft=jt[R]&31;y+=Tt[ct]+Ot[ft],++T[257+ct],++I[ft],x=u+k,++b}else S[E++]=r[u],++T[r[u]]}}for(u=Math.max(u,x);u<l;++u)S[E++]=r[u],++T[r[u]];a=Qt(r,p,m,S,T,I,y,E,O,u-O,a),m||(s.r=a&7|p[a/8|0]<<3,a-=7,s.h=C,s.p=d,s.i=u,s.w=x)}else{for(var u=s.w||0;u<l+m;u+=65535){var lt=u+65535;lt>=l&&(p[a/8|0]=m,lt=l),a=ie(p,a+1,r.subarray(u,lt))}s.i=l}return re(f,0,i+Wt(a)+n)};var Le=function(r,t,e,i,n){if(!n&&(n={l:1},t.dictionary)){var s=t.dictionary.subarray(-32768),l=new U(s.length+r.length);l.set(s),l.set(r,s.length),r=l,n.w=s.length}return Re(r,t.level==null?6:t.level,t.mem==null?Math.ceil(Math.max(8,Math.min(13,Math.log(r.length)))*1.5):12+t.mem,e,i,n)};function se(r,t){return Le(r,t||{},0,0)}function ae(r,t){return Ee(r,{i:2},t&&t.out,t&&t.dictionary)}var Te=typeof TextDecoder<"u"&&new TextDecoder,Oe=0;try{Te.decode(ne,{stream:!0}),Oe=1}catch{}var oe=r=>Uint8Array.from(atob(r),t=>t.charCodeAt(0)),le=r=>btoa(String.fromCharCode.apply(null,r));function ue(){let r=async e=>{let i;self.addEventListener("message",async n=>{let s=n.data;for(;!i;)await new Promise(l=>setTimeout(l,0));if(s.cmd=="decode"){try{s.result=new i.Decoder().decodeSync(s.args.input,s.args.options).toArray()}catch(l){s.err=l}delete s.args,self.postMessage(s)}else if(s.cmd=="decodeConfigCmd"){try{s.result=new i.Decoder().decodeConfigCmdData(s.args.rawData)}catch(l){s.err=l}delete s.args,self.postMessage(s)}else if(s.cmd=="encode"){try{let l=new i.Blueprint().fillFromArray(s.args.input);s.result=new i.Encoder().encodeSync(l)}catch(l){s.err=l}delete s.args,self.postMessage(s)}}),e.bundleInfo.format=="iife"?(importScripts(e.path),i=globalThis[e.bundleInfo.globalName]):i=await import(e.path)},t={path:import.meta.url,bundleInfo:{format:"esm",globalName:"dsabp"}};return new Worker(URL.createObjectURL(new Blob([`(${r.toString()})(${JSON.stringify(t)})`],{type:"text/javascript;charset=utf-8"})))}var Se={0:2,2:3,3:4,4:5},vt=class{#o;#i;#e;#t;#s;options;constructor(){this.#o=new TextDecoder("utf-8")}#c(t,e){this.#i=new Uint8Array(t),this.#e=new DataView(t.buffer),this.#t=0,this.#s=e??0}decodeSync(t,e={}){if(typeof t!="string")throw new TypeError("input must be a string");t.substring(0,Lt.length).toUpperCase()==Lt&&(t=t.substring(Lt.length)),typeof e.ignoreConfigCmdData>"u"&&(e.ignoreConfigCmdData=!1),this.options=e;let i;if(typeof zlib_inflateRawSync<"u"){let n=Buffer.from(t,"base64");i=zlib_inflateRawSync(n)}else{let n=oe(t);i=ae(n)}return this.#c(i,0),new K().fillFromArray(this.#a(),!0)}decodeConfigCmdSync(t){if(!(t instanceof F))throw new TypeError(`input must be a ${F.name}`);if(!t.isRaw)return t;let e=this.decodeConfigCmdData(t.rawData);return t.rawData=void 0,t.fillDataFromArray(e)}decodeConfigCmdData(t){return this.#c(t,4),this.#a()}#a(){for(;this.#t<this.#i.length;){let t=this.#i[this.#t++];if(t<=63)return t;if(t<=127)return t-128;switch(t){case 144:return this.#_();case 128:return this.#d();case 129:return this.#l();case 130:return this.#g();case 131:return this.#r();case 132:return this.#u();case 133:return this.#h();case 134:return this.#w();case 135:return this.#f();case 136:return this.#x();case 137:return this.#v();case 143:return null;case 141:return!0;case 142:return!1;case 148:return this.#b(this.#y(),1);case 149:return this.#b(this.#p(),2);case 150:return this.#b(this.#m(),4);case 138:return this.#n(this.#y(),1);case 139:return this.#n(this.#p(),2);case 140:return this.#n(this.#m(),4)}throw new Error(`unsupported byte: ${t} (0x${t.toString(16)})`)}}#_(){let t=[],e=this.#s;this.#s=Se[e]??1;let i=this.#s;for(;this.#t<this.#i.length;){if(this.#i[this.#t]==145){if(this.#t++,this.#s=e,i==4){if(t[0]===0)return new X().fillFromArray(t);if(t[0]===1)return new F().fillFromArray(t)}return t}t.push(this.#a())}}#d(){let t=this.#e.getUint8(this.#t);return this.#t++,t}#l(){let t=this.#e.getUint16(this.#t,!0);return this.#t+=2,t}#g(){let t=this.#e.getUint32(this.#t,!0);return this.#t+=4,t}#r(){let t=this.#e.getBigUint64(this.#t,!0);return this.#t+=8,t}#u(){let t=this.#e.getInt8(this.#t);return this.#t++,t}#h(){let t=this.#e.getInt16(this.#t,!0);return this.#t+=2,t}#w(){let t=this.#e.getInt32(this.#t,!0);return this.#t+=4,t}#f(){let t=this.#e.getBigInt64(this.#t,!0);return this.#t+=8,t}#x(){let t=this.#e.getFloat32(this.#t,!0);return this.#t+=4,t}#v(){let t=this.#e.getFloat64(this.#t,!0);return this.#t+=8,t}#y(){return this.#e.getUint8(this.#t)}#p(){return this.#e.getUint16(this.#t,!0)}#m(){return this.#e.getUint32(this.#t,!0)}#n(t,e){let i=this.#t+e,n=this.#o.decode(this.#i.slice(i,i+t));return this.#t+=e+t,n}#b(t,e){let i=this.options.ignoreConfigCmdData!==!0&&this.#s==4,n=this.#t+e,s=this.#i.slice(n,n+t);return this.#t=n,i?this.#a():(this.#t+=t,s)}};var Ut=class r{#o;#i;#e;#t;constructor(){this.#o=new TextEncoder}#s(t){this.#e=new DataView(new ArrayBuffer(t)),this.#i=new Uint8Array(this.#e.buffer),this.#t=0}encodeSync(t){if(!(t instanceof K))throw new TypeError(`input must be an instance of ${K.name}`);let e=t.commands.length?Math.max(t.commands.length*20,512):4096;this.#s(e),this.#a(t.toArray(!0));let i=this.#i.slice(0,this.#t);if(typeof zlib_deflateRawSync<"u")return zlib_deflateRawSync(i,{level:9}).toString("base64");{let n=se(i,{level:9});return le(n)}}#c(t){return this.#s(128),this.#a(t),this.#i.slice(0,this.#t)}#a(t){if(typeof t=="number"||typeof t=="bigint")this.#_(t);else if(typeof t=="boolean")this.#r(t?141:142);else if(typeof t=="string")this.#d(t);else if(t==null)this.#r(143);else if(Array.isArray(t))this.#l(t);else if(t instanceof Uint8Array)this.#g(t);else if(t instanceof X)this.#l(t.toArray());else if(t instanceof F){let e=t.toArray();Array.isArray(e[1])&&(e[1]=new Uint8Array(new r().#c(e[1]))),this.#l(e)}else throw new Error(`unsupported object: ${t.constructor?.name} ${t}`)}#_(t,e){let i=typeof t=="bigint";if(i&&t<=4294967295&&(t=Number(t),i=!1),!Number.isSafeInteger(t)&&!i){this.#r(136),this.#p(t);return}if(t>=-64&&t<=-1)return this.#f(64|t&127);if(t>=0&&t<=63)return this.#f(t);t<0||e?-128<=t&&t<=127?(this.#r(132),this.#r(t)):-32768<=t&&t<=32767?(this.#r(133),this.#x(t)):-2147483648<=t&&t<=2147483647?(this.#r(134),this.#v(t)):(this.#r(135),this.#y(BigInt(t))):t<=255?(this.#r(128),this.#r(t)):t<=65535?(this.#r(129),this.#u(t)):t<=4294967295?(this.#r(130),this.#h(t)):(this.#r(131),this.#w(BigInt(t)))}#d(t){let e=this.#o.encode(t),i=e.byteLength;i<=255?(this.#r(138),this.#r(i)):i<=65535?(this.#r(139),this.#u(i)):i<=4294967295&&(this.#r(140),this.#h(i)),this.#n(i),this.#i.set(e,this.#t),this.#t+=i}#l(t){this.#r(144);for(let e of t)this.#a(e);this.#r(145)}#g(t){let e=t.byteLength;e<=255?(this.#r(148),this.#r(e)):e<=65535?(this.#r(149),this.#u(e)):e<=4294967295&&(this.#r(150),this.#h(e)),this.#m(t)}#r(t){this.#n(1),this.#e.setUint8(this.#t,t),this.#t++}#u(t){this.#n(2),this.#e.setUint16(this.#t,t,!0),this.#t+=2}#h(t){this.#n(4),this.#e.setUint32(this.#t,t,!0),this.#t+=4}#w(t){this.#n(8),this.#e.setBigUint64(this.#t,t,!0),this.#t+=8}#f(t){this.#n(1),this.#e.setInt8(this.#t,t),this.#t++}#x(t){this.#n(2),this.#e.setInt16(this.#t,t,!0),this.#t+=2}#v(t){this.#n(4),this.#e.setInt32(this.#t,t,!0),this.#t+=4}#y(t){this.#n(8),this.#e.setBigInt64(this.#t,t,!0),this.#t+=8}#p(t){this.#n(4),this.#e.setFloat32(this.#t,t,!0),this.#t+=4}#m(t){this.#n(t.length),this.#i.set(t,this.#t),this.#t+=t.length}#n(t){let e=this.#t+t;if(e<=this.#e.byteLength)return;let i=new ArrayBuffer(Math.max(e,this.#e.byteLength+128)),n=new Uint8Array(i),s=new DataView(i);n.set(this.#i),this.#e=s,this.#i=n}};var qt=globalThis.process?.release?.name=="node",ce=qt?!isMainThread:typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,Yt=0,St={},bt=ce?null:(qt?node_createWorker:ue)();function he(r){r.err?St[r.id].rej(r.err):St[r.id].res(r.result),delete St[r.id]}ce||(qt?bt.on("message",he):bt.addEventListener("message",r=>he(r.data)));function Gt(r){return new Promise((t,e)=>St[r]={res:t,rej:e})}async function fe(r,t){let e=Yt++;return bt.postMessage({id:e,cmd:"decode",args:{input:r,options:t}}),new K().fillFromArray(await Gt(e))}function ye(r){let t=Yt++;return bt.postMessage({id:t,cmd:"decodeConfigCmd",args:{rawData:r}}),Gt(t)}function pe(r){let t=Yt++;return bt.postMessage({id:t,cmd:"encode",args:{input:r.toArray()}}),Gt(t)}function Sr(r,t){return new vt().decodeSync(r,t)}async function Ir(r,t){return fe(r,t)}function Cr(r){return new vt().decodeConfigCmdSync(r)}async function Br(r){if(!(r instanceof F))throw new TypeError(`input must be a ${F.name}`);if(!r.isRaw)return r;let t=await ye(r.rawData);return r.rawData=void 0,r.fillDataFromArray(t)}function kr(r){return new Ut().encodeSync(r)}function Pr(r){return pe(r)}export{it as BPCmd,K as Blueprint,yt as BuildBits,X as BuildCmd,F as ConfigCmd,vt as Decoder,Ut as Encoder,N as Enum,mt as FilterMode,_t as FixedAngle,G as Item,st as LoaderPoint,pt as LoaderPriority,Lt as PREFIX,nt as PusherMode,ut as Shape,Ir as decode,Br as decodeConfigCmd,Cr as decodeConfigCmdSync,Sr as decodeSync,Pr as encode,kr as encodeSync};
//# sourceMappingURL=index.min.js.map
